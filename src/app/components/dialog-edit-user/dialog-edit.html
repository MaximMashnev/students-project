<h1 mat-dialog-title>{{dialogTitle}}</h1>
<div mat-dialog-content style="display: inline; padding: 20px; margin: auto; ">

  <mat-form-field class="full-width-input">
    <input matInput type="text" placeholder="Фамилия" [value]="editingUser.surname"
      [(ngModel)]="editingUser.surname" required >
      @if (validateFormSurname(editingUser.surname) == false) {
        <mat-error>Поле не может быть пустым и содержать пробелы</mat-error>
      }
  </mat-form-field>

  <mat-form-field class="full-width-input">
    <input matInput type="text" placeholder="Имя" [value]="editingUser.name"
      [(ngModel)]="editingUser.name" required>
      @if (validateFormName(editingUser.name) == false) {
        <mat-error>Поле не может быть пустым и содержать пробелы</mat-error>
      }
  </mat-form-field>

  <mat-form-field class="full-width-input">
    <input matInput type="text" placeholder="Отчество" [value]="editingUser.patronymic"
      [(ngModel)]="editingUser.patronymic" required>
      @if (validateFormPatronymic(editingUser.patronymic) == false) {
        <mat-error>Поле не может быть пустым и содержать пробелы</mat-error>
      }
  </mat-form-field>

  @if (editingUser.role == "admin") {
    <!-- TODO: сделать комбо бокс для выбора группы -->
    <!-- TODO: Починить вывод групп \ запись идет строкой, а не массивом -->
    <mat-form-field class="full-width-input">
      <input matInput type="text" placeholder="Группа" [value]="editingUser.group_id.toLocaleString()"
        [(ngModel)]="editingUser.group_id" required>
    </mat-form-field>
  }

  <mat-form-field class="full-width-input">
    <input matInput type="text" placeholder="Номер телефона" [value]="editingUser.phoneNumber"
      [(ngModel)]="editingUser.phoneNumber" required>
  </mat-form-field>

  @if (editingUser.role == "admin") {
    <mat-form-field class="full-width-input">
      <mat-select [(ngModel)]="editingUser.role" placeholder="Группа пользователя">
          @for (role of ROLES; track role.id) {
            <mat-option sele [value]="role.role">{{role.name_ru}}</mat-option>
          }
      </mat-select>
    </mat-form-field>
  }
</div>
<div mat-dialog-actions>
  <button mat-raised-button (click)="onNoClick()">Отмена</button>
  <button class="right-align" mat-raised-button color="primary"
    [mat-dialog-close]="editingUser" [disabled]="checkValidateConfirm()">{{dialogCloseButton}}</button>
</div>
